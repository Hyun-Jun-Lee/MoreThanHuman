# 영어 회화 학습 웹 서비스 프로젝트 개요

## 📌 프로젝트 소개

AI를 활용하여 사용자가 원하는 주제(스포츠, 여행 등)로 영어 회화를 연습할 수 있는 웹 서비스입니다. 최신 뉴스와 정보를 기반으로 실용적이고 현실적인 대화를 나눌 수 있으며, 음성 입력/출력과 실시간 문법 교정 기능을 제공합니다.

## 🎯 핵심 기능

### 1. 맞춤형 주제 대화
- **지원 주제**: UFC, 야구, 여행 등
- **최신 정보 반영**: Tavily API를 통해 실시간 뉴스/정보 검색
- **컨텍스트 기반 대화**: 검색된 정보를 바탕으로 자연스러운 대화

### 2. 음성 지원
- **STT (Speech-to-Text)**: 브라우저 Web Speech API 활용
- **TTS (Text-to-Speech)**: AI 응답을 자동으로 읽어주기
- **실시간 변환**: 말하는 내용이 즉시 텍스트로 표시

### 3. 실시간 문법 교정
- **자동 분석**: 사용자 메시지 전송 시 자동으로 문법 체크
- **상세 피드백**: 오류 부분 하이라이트 및 설명 제공
- **올바른 표현 제시**: 교정된 문장과 함께 학습 가이드

### 4. 학습 통계 및 대시보드
- **진행 상황 추적**: 총 대화 수, 학습 시간, 문법 정확도
- **개선도 시각화**: 차트를 통한 진행 상황 확인
- **자주 하는 실수 분석**: 반복되는 문법 오류 패턴 파악

## 🏗️ 기술 스택

### Backend
- **Framework**: FastAPI (Python)
- **Database**: PostgreSQL (Supabase)
- **ORM**: SQLAlchemy
- **Authentication**: JWT (python-jose)

### Frontend
- **Framework**: Svelte
- **Styling**: Tailwind CSS (예상)
- **API Client**: Fetch API / Axios

### AI & APIs
- **LLM**: OpenRouter API
  - 주 모델: Google Gemini 2.0 Flash (무료)
  - 대체 모델: DeepSeek Chat v3.1 (무료)
- **검색**: Tavily API (무료 티어, 월 1,000회)
- **음성**: Web Speech API (브라우저 네이티브)

## 📊 시스템 아키텍처

```
┌─────────────┐
│   Svelte    │ ← 사용자 인터페이스
│  Frontend   │   (음성 입력/출력, 채팅 UI)
└──────┬──────┘
       │ HTTPS
┌──────▼──────┐
│   FastAPI   │ ← REST API 서버
│   Backend   │   (비즈니스 로직)
└──────┬──────┘
       │
   ┌───┴────┐
   │        │
┌──▼──┐  ┌─▼──────┐
│ SQL │  │External│
│ DB  │  │  APIs  │
└─────┘  └────┬───┘
              │
         ┌────┴─────┐
         │          │
    ┌────▼───┐ ┌───▼────┐
    │Tavily  │ │OpenRouter│
    │Search  │ │  LLM   │
    └────────┘ └────────┘
```

## 💡 주요 워크플로우

### 대화 시작
1. 사용자가 주제 선택 (예: "UFC")
2. 시스템이 Tavily로 최신 정보 검색 (캐시 우선)
3. 검색 결과와 함께 대화 세션 생성
4. 사용자 첫 메시지 입력
5. AI가 컨텍스트 기반 응답 생성
6. 문법 체크 후 피드백과 함께 반환

### 대화 진행
1. 사용자 메시지 입력 (텍스트 또는 음성)
2. 최근 10턴 히스토리 로드
3. AI 응답 생성 (병렬로 문법 체크)
4. 응답 + 문법 피드백 표시
5. TTS로 AI 응답 자동 재생

### 문법 교정
```
사용자: "I goes to the store yesterday"
        ─┬──         ────┬────
         │               │
    ┌────▼───────────────▼────┐
    │ Grammar Check (LLM API) │
    └─────────────┬────────────┘
                  │
         ┌────────▼─────────┐
         │ "goes" → "went"  │
         │ 과거형 사용 필요  │
         └──────────────────┘
```


## 📦 프로젝트 구조

```
/
├── backend/
│   ├── main.py                 # FastAPI 앱
│   ├── database.py             # DB 설정
│   ├── config.py               # 환경 변수
│   ├── shared/                 # 공통 모듈
│   └── domains/                # 도메인별 모듈
│       ├── user/               # 사용자 관리
│       ├── conversation/       # 대화 관리
│       ├── grammar/            # 문법 체크
│       ├── search/             # 검색 캐싱
│       ├── voice/              # 음성 관리
│       ├── dashboard/          # 통계
│       └── web/                # 웹 라우팅
├── frontend/
│   ├── src/
│   │   ├── routes/             # Svelte 라우트
│   │   ├── components/         # 재사용 컴포넌트
│   │   ├── lib/                # 유틸리티
│   │   └── stores/             # 상태 관리
│   └── static/                 # 정적 파일
├── tests/                      # 테스트 코드
└── docs/                       # 문서
```

---